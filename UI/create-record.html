<!DOCTYPE html>
<html lang="en">
    <title>i-Reporter</title>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href=".\static\css\layout.css">           
    </head>
    <body> 
        <div class="header">
          <image class="logo"></image>
          <h1>i-Reporter</h1>
          <!-- p>You see it, You report it here...</p -->
        </div>
        
        <div class="topnav">
            <a href="index.html">Home</a>
            <a href="create-record.html"> Report</a>
            <a href="profile.html">My Profile</a>
            <a href="view-all-records.html" style="float:right">Admin</a>
            <a href="signup.html" style="float:right">Register</a>
            <a href="signin.html" style="float:right">Login</a>
        </div>
        
        <div class="row">
          <div class="leftcolumn">
            <div class="card">
              <div class="form-card">
                    <h2>REPORT AN INCIDENT HERE</h2>
                    <p>Complete the form appropriately to report an incident</p>
                    <hr /><br/>
                    <form action="" class="test" method="POST">
                        <label for="incidentType">Incident Type</label>
                        <select id="incidentType" name="incidentType" autofocus required>
                            <option></option>
                            <option value="redflag">Red Flag</option>
                            <option value="Intervention">Intervention</option> 
                        </select>

                        <label for="incidentTitle">Incident Title</label>
                        <input type="text" id="incidentTitle" name="incidentTitle" placeholder="Type Your Incident Title Here.." pattern="[A-Za-z]{5,15}" title="Title should be atleast 5 characters" required>

                        <label for="commentArea">Add a Comment</label>
                        <textarea name="commentArea">Type Your Comment Here... </textarea>

                        <label for="geoCode">Geolocation Codes</label>
                        <input type="text" id="geoCode" name="geoCode" placeholder="Latitude, Longitude" readonly>
                        <a href="#"><input type="button" onclick="pickCoordinates()" value="PICK CODES" /></a>
                        <a href="#"><input type="button" onclick="document.getElementById('maps-modal').style.display='block'" value="PICK CODES" /></a>
                        
                        <br/><br>

                        <label for="attachImage">Attach Image</label>
                        <input type="file" id="attachImage" name="attachImage" placeholder="Attach Images.." accept="image/*" multiple/>
                       
                        <input class="full" type="submit" value="REGISTER"/>                       
                    </form>
                    </div>
             </div>
          </div>
          <div class="rightcolumn">
            <div class="card">
              <h2>VIEW MY INCIDENTS</h2>
              <a href="profile.html"><input type="button" value="MY REPORTED INCIDENTS"/></a>   
            </div>  
          </div>
        </div>
        
        <div class="footer">
            <h3>Â©2018 iReporter - Andela BootCamp CoHort 15</h3>
            <h4>~ by alexxsanya@gmail.com</h4>
        </div>
        <div id="maps-modal" class="modal">
            <span onclick="document.getElementById('maps-modal').style.display='none'" class="close" title="Close Modal">&times;</span>
            <div class="modal-content">
                <div class="leftcolumn">
                    <div class="card">
                        <h2>Pick the Address of Where the Incident Occured</h2>
                        <div class="map" id="mapCanvas">

                        </div>                        
                    </div>
                </div>
                <div class="rightcolumn">
                    <div class="card">  
                        <div class="card">
                            <div id="infoPanel">
                                <b>Marker status:</b>
                                <div id="markerStatus"><i>Click and Drag the Marker.</i></div>
                                <b>Incident Location:</b>
                                <div id="info"></div>
                                <b>Closest matching address:</b>
                                <div id="address"></div>
                              </div>
                        </div>
                        <input type="button" value="SET ADDRESS"/>
                    </div>  
                </div>

            </div>
        </div>        
    </body>
</html>

<script src="./static/js/ireporter.js"></script>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD7g68KcjjZ3nGcT0Jcjo6nWPXfITNVStA"  type="text/javascript"></script>
<script src="./static/js/map.js"></script>
<script>
    // Get the Maps Modal so as to pick the incidents coordinates
    var modal = document.getElementById('maps-modal');
    
    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    window.onload = function(){
        console.log(pickCoordinates())
        initialize()
    } 
</script>